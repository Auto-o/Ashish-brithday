<script omitted for brevity - same as user provided></script>